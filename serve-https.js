const https = require('https');
const fs = require('fs');
const path = require('path');

// 创建自签名证书（仅用于开发）
const options = {
  key: `-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC7VJTUt9Us8cKB
wQNFNVa+FQWxngQcAD6FdHF7eG+/Xl9lFd+gRpCjyL6gOAd4cJWg/m4z8bF9eGd/
XGVJOVGqTgXq1Bd5FTl4h+X5lRqVCfHe3rHkOe0Pqf7e3d1p9sV8nF9A8xNlFY2P
nB7k8mY6eWv9vF0eFX2SjHcPJvWvFx8FqJ7k+ZrVUO8A6F8qE7V8z9P8yJ9x3vW4
s1eTX5YxYU9e3L7F4z8Y8+YV8eG6h7e8mL9cXvR6j9xP2zY3wJ8UF5yJ8+YG9m8z
J7cL8Fv3H9r8+UX3n6zJ8v+YF9w8P5nV8Y7+yJ6F9xV8zL3qY8eV9F6U+8aF7q8R
AgMBAAECggEAAb9q+d9O0b0HjQF0L3yF9/Q7F8g5V9C3m4q5c3z8a1z6F2Y8o6X4J
h3F5b6L3z8a8+7VZQ2z4x3R0F8+zV5Q1a8xPZC7z1m6F8y3z8vF4L8F9X8aZ5q3z
v8x8F3b1F3P5+8j7zF4o3c5X5C8X4n3P3m5z8M3YV8F8z1F8XaZ3L3L3P8z8v5Y9
f4Y6zF8P3m8z8j3L3z8F8+8Y1Y8+3F8x3z8V9F6z8Y3F8Y8+3m8z8F3z8Y8a3L5
v8Q5z8j3Y8F3L3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Y8a3L3z8Y8F3z8Y8a3m8z
8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3
QKBgQDeAr7tcHFB1WJI3z8Y8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F
3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y
8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L
5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y
8+3m8z8F3z8Y8V3L5v8Q5z8j3YwKBgQC1H2F8z3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3
L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8
Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8
j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8
F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3
QKBgC8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8
j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8
F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8
Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3
L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3QKBgQC1H2
F8z3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3
z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8
a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5
v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y
8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3QKBgQC1H2F8z3z8Y8a3Y8F8Y8+3m8z8F3z8
Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3
Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8
Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3
m8z8F3z8Y8V3L5v8Q5z8j3Y8F3z8Y8a3Y8F8Y8+3m8z8F3z8Y8V3L5v8Q5z8j3Y8
F3
-----END PRIVATE KEY-----`,
  cert: `-----BEGIN CERTIFICATE-----
MIIDXTCCAkWgAwIBAgIJAKoK/OvD/VDZMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV
BAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX
aWRnaXRzIFB0eSBMdGQwHhcNMTkwNjA2MDUwNDIwWhcNMjkwNjAzMDUwNDIwWjBF
MQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50
ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
CgKCAQEAu1SU1L7VLPHCgcEDRTVWvhUFsZ4EHAChE1Vdj5DLV9IjAuRz4o3G0M3+
V1xJ5pWGI1J5zQNnGgxvJT3o2g3J8mJx5GfJA9VxHJ9C5uZcUhJQ0U/+0sUGHzT8
9bG7J8xQ4d8JxKK5E3zJzGj6+LJ5f1o6/k6Oew==
-----END CERTIFICATE-----`
};

const server = https.createServer(options, (req, res) => {
  res.writeHead(200);
  res.end("Hello World\n");
});

server.listen(8443, () => {
  console.log('HTTPS Server running on https://localhost:8443');
});